<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="generator" content="Aspose.Words for .NET 24.2.0" /><title></title><style type="text/css">body { font-family:'Times New Roman'; font-size:12pt }p { margin:0pt }</style></head><body><div><p style="font-size:10.5pt"><span style="font-family:'Courier New'">from dash import Dash, html, dcc, Input, Output</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">import pandas as pd</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">import plotly.express as px</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'"># Load data</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">fun = pd.read_csv('FunOlympics.csv')</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">app = Dash(__name__, suppress_callback_exceptions=True)</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">colors = {</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">'background': '#192841',</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">'text': '#FFFFFF',</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">'navbar': '#3B9EBF',</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">'dropdown_background': '#6FC0DB',</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">'dropdown_text': 'black',</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">'header_text': '#83aff0'</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'"># 'Date' and 'Time' columns to datetime conversion</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">fun['DateTime'] = pd.to_datetime(fun['Date'] + ' ' + fun.get('Time', ''))</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'"># Number of unique countries</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">unique_countries = fun['Country'].unique()</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'"># Total site visits per country</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">site_visits_per_country = fun.groupby(['Country', 'Sports'])['Site_Visits'].sum().reset_index()</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'"># Options for unique sports</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">unique_sports = fun['Sports'].unique()</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'"># Scatter Plot</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">scatter_fig = px.scatter(fun, x="Country", y="Views", hover_name="Country",</span></p><p style="text-indent:157.55pt; font-size:10.5pt"><span style="font-family:'Courier New'">title="Viewership per country in every sporting event")</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">scatter_fig.update_traces(marker=dict(color='#00BFFF'))</span><span style="font-family:'Courier New'; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'"># Very bright blue color</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">scatter_fig.update_layout(</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">plot_bgcolor=colors['background'],</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">paper_bgcolor=colors['background'],</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">font_color=colors['text']</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">)</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'"># Histogram</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">histogram_fig = px.histogram(fun, x="Country", y="Views")</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">histogram_fig.update_layout(</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">plot_bgcolor=colors['background'],</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">paper_bgcolor=colors['background'],</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">font_color=colors['text']</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">)</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'"># Bar Chart</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">bar_fig = px.bar(fun, x="Sports", y="Views", color="Gender", barmode="group")</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">bar_fig.update_layout(</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">plot_bgcolor=colors['background'],</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">paper_bgcolor=colors['background'],</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">font_color=colors['text']</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">)</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'"># Choropleth Map</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">def generate_choropleth(selected_sport):</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">filtered_data = site_visits_per_country[site_visits_per_country['Sports'] == selected_sport]</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">choropleth_fig = px.choropleth(</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">filtered_data,</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">locations='Country',</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">locationmode='country names',</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">color='Site_Visits',</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">hover_name='Country',</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">color_continuous_scale=px.colors.sequential.Plasma,</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">title=f'Site Visits per Country for {selected_sport}'</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">)</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">choropleth_fig.update_layout(</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">plot_bgcolor=colors['background'],</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">paper_bgcolor=colors['background'],</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">font_color=colors['text']</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">)</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">return choropleth_fig</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">app.layout = html.Div(style={'backgroundColor': colors['background'], 'color': colors['text']}, children=[</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">html.H1("FunOlympics Dashboard", style={'textAlign': 'center', 'color': colors['header_text'], 'fontSize': '48px'}),</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">dcc.Tabs(id="tabs", value='scatter', children=[</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">dcc.Tab(label='Scatter Plot', value='scatter', style={'backgroundColor': colors['navbar']}),</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">dcc.Tab(label='Bar Graph', value='bar', style={'backgroundColor': colors['navbar']}),</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">dcc.Tab(label='Histogram', value='histogram', style={'backgroundColor': colors['navbar']}),</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">dcc.Tab(label='Area Chart', value='area', style={'backgroundColor': colors['navbar']}),</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">dcc.Tab(label='Choropleth Map', value='choropleth', style={'backgroundColor': colors['navbar']}),</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">]),</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">html.Div(id='graphs-container', style={'padding': '20px'}),</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">])</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">@app.callback(</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">Output('graphs-container', 'children'),</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">[Input('tabs', 'value')]</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">)</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">def render_content(tab):</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">dropdown_style = {</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">'backgroundColor': colors['dropdown_background'],</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">'color': colors['dropdown_text'],</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">'fontWeight': 'bold'</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">}</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">if tab == 'scatter':</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">return html.Div([</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">dcc.Dropdown(</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">id='sporting-dropdown',</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">options=[{'label': sport, 'value': sport} for sport in fun['Sports'].unique()],</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">value='athletics',</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">clearable=False,</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">style=dropdown_style</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">),</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">dcc.Graph(id='scatter-graph', figure=scatter_fig, style={'height': '70vh'})</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">])</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">elif tab == 'bar':</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">return html.Div([</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">dcc.Dropdown(</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">id='sports-dropdown',</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">options=[{'label': sport, 'value': sport} for sport in fun['Sports'].unique()],</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">value='athletics',</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">clearable=False,</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">style=dropdown_style</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">),</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">dcc.Graph(id='example-graph-2', style={'height': '70vh'})</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">])</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">elif tab == 'histogram':</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">return html.Div([</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">dcc.Dropdown(</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">id='country-dropdown',</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">options=[{'label': country, 'value': country} for country in fun['Country'].unique()],</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">value='China',</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">style=dropdown_style</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">),</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">dcc.Graph(id='histogram',</span><span style="font-family:'Courier New'; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'">style={'height': '70vh'})</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">])</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">elif tab == 'area':</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">return html.Div([</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">dcc.Dropdown(</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">id='sport-dropdown',</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">options=[{'label': sport, 'value': sport} for sport in fun['Sports'].unique()],</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">value='athletics',</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">clearable=False,</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">style=dropdown_style</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">),</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">dcc.Graph(id='area-chart', style={'height': '70vh'})</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">])</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">elif tab == 'choropleth':</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">return html.Div([</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">dcc.Dropdown(</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">id='Sport-dropdown',</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">options=[{'label': sport, 'value': sport} for sport in unique_sports],</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">value=unique_sports[0],</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">clearable=False,</span></p><p style="text-indent:100.8pt; font-size:10.5pt"><span style="font-family:'Courier New'">style=dropdown_style</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">),</span></p><p style="text-indent:75.6pt; font-size:10.5pt"><span style="font-family:'Courier New'">dcc.Graph(id='choropleth-graph', style={'height': '70vh'})</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">])</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'"># Callback function to update Scatter Graph</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">@app.callback(</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">Output('scatter-graph', 'figure'),</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">[Input('sporting-dropdown', 'value')]</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">)</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">def update_scatter(selected_sport):</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">filtered_fun = fun[fun['Sports'] == selected_sport]</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">scatter_fig = px.scatter(filtered_fun, x="Country", y="Views", title=f"Viewership for {selected_sport} in Every Country", hover_name="Country")</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">scatter_fig.update_traces(marker=dict(color='#FF3131'))</span><span style="font-family:'Courier New'; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'"># Very bright blue color</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">scatter_fig.update_layout(</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">plot_bgcolor=colors['background'],</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">paper_bgcolor=colors['background'],</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">font_color=colors['text']</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">)</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">return scatter_fig</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'"># Callback function to update histogram</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">@app.callback(</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">Output('example-graph-2', 'figure'),</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">[Input('sports-dropdown', 'value')]</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">)</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">def update_bar(selected_sport):</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">filtered_fun = fun[fun['Sports'] == selected_sport]</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">grouped_fun = filtered_fun.groupby('Country', as_index=False).agg({'Views': 'sum'})</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">updated_figure = px.bar(grouped_fun, x="Country", y="Views",barmode="group", title=f"Viewership for {selected_sport} in Every Country")</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">updated_figure.update_layout(</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">plot_bgcolor=colors['background'],</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">paper_bgcolor=colors['background'],</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">font_color=colors['text']</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">)</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">return updated_figure</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'"># Callback to update the area chart</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">@app.callback(</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">Output('area-chart', 'figure'),</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">[Input('sport-dropdown', 'value')]</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">)</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">def update_area_chart(selected_sport):</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">filtered_fun = fun[fun['Sports'] == selected_sport]</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'"># Create area chart</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">area_fig = px.area(filtered_fun, x="DateTime", y='Views', title=f'Viewership Distribution for {selected_sport} over a period of days and time',</span></p><p style="text-indent:144.9pt; font-size:10.5pt"><span style="font-family:'Courier New'">labels={'Views': 'Total Viewership', 'DateTime': 'Date and Time'}, hover_data={'DateTime': '|%B %d, %Y %H:%M', 'Views': True})</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">area_fig.update_layout(</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">plot_bgcolor=colors['background'],</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">paper_bgcolor=colors['background'],</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">font_color=colors['text']</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">)</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">return area_fig</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'"># Callback function to update bar chart</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">@app.callback(</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">Output('histogram', 'figure'),</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">[Input('country-dropdown', 'value')]</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">)</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">def update_histogram(selected_countries):</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">filtered_fun = fun[fun['Country'] == selected_countries]</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">hist_figure = px.histogram(filtered_fun, x="Sports", y="Views", color="Gender", barmode="group",</span></p><p style="text-indent:151.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">title="Viewership by Gender in every sporting event in each country")</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">hist_figure.update_layout(</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">plot_bgcolor=colors['background'],</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">paper_bgcolor=colors['background'],</span></p><p style="text-indent:50.4pt; font-size:10.5pt"><span style="font-family:'Courier New'">font_color=colors['text']</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">)</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">return</span><span style="font-family:'Courier New'; -aw-import:spaces">&#xa0; </span><span style="font-family:'Courier New'">hist_figure</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'"># Callback to update choropleth map</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">@app.callback(</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">Output('choropleth-graph', 'figure'),</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">[Input('Sport-dropdown', 'value')]</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">)</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">def update_choropleth(selected_sport):</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">return generate_choropleth(selected_sport)</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'; -aw-import:ignore">&#xa0;</span></p><p style="font-size:10.5pt"><span style="font-family:'Courier New'">if __name__ == '__main__':</span></p><p style="text-indent:25.2pt; font-size:10.5pt"><span style="font-family:'Courier New'">app.run_server(debug=True)</span></p></div></body></html>